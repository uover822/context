SELECT (COUNT(ID) + SUM(IF(IDRelated > 0,1,0))) AS CMembers, SUM(IF(Couple=0,0,1)) AS CCouples, SUM(IF(GuestLast != '' AND IDRelated =0,1,0)) AS CGuests, SUM(if(AddlGuestsConfirmed=1,AddlGuests,0)) as CAGuests, date, date as thedate, (SELECT COUNT(ID)+IF(IDRelated>0,1,0)+IF(GuestLast !='') as PostOnly FROM tReservations WHERE date=thedate AND PostOnly=1) as PostOnly FROM tReservations WHERE date>='2023-01-01' AND date<='2023-01-31' AND MadeBy='1' AND PostOnly='0' AND Deleted is null GROUP BY date
